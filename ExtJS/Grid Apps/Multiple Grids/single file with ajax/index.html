<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
<title>My Website</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/classic/theme-triton/resources/theme-triton-all.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/ext-all.js"> </script>
<script src=""></script>
</head>
<body>
<script>
Ext.define('PlaygroundApp.store.dataStore', {
    extend: 'Ext.data.Store',
    alias: 'store.dataStore',
    autoLoad:true,
    proxy: {
        type: 'ajax',

        url: 'data.json',
        reader: {
            rootProperty: 'rates',
            type: 'json'
        }
    }
});

Ext.define('PlaygroundApp.model.dataGrid', {
    extend: 'Ext.grid.Panel',
    xtype: 'dataGrid',
    title: 'Data Grid',
    width: 400,
    height: 310,
    frame: true,
    border: false,
    margin: '0 0 10 0',
    store: {
        type: 'dataStore',
        autoLoad: false
    },
    dockedItems: [{
        xtype: 'button',
        handler: function () {
            this.up('grid').store.load();
        },
        dock: 'top',
        width: 100,
        text: 'Reload'
    }],
    columns: [{
        header: 'Id',
        dataIndex: 'id',
        flex: 1
    }, {
        header: 'Name',
        dataIndex: 'name',
        flex: 2
    }]
});

Ext.define('PlaygroundApp.model.threeGrids', {
    extend: 'Ext.container.Container',
    xtype: 'threeGrids',
    margin: '0 10 10 0',

    items: [{
        xtype: 'dataGrid'
    }, {
        xtype: 'dataGrid'
    }, {
        xtype: 'dataGrid'
    }]
});

Ext.application({
    name: 'PlaygroundApp',

    launch: function () {
        Ext.create({
            xtype: 'panel',
            title: 'GridPanel',
            layout: 'hbox',
            width: '100%',
            bodyPadding: 10,

            defaults: {
                margin: '0 10 10 0'
            },
            items: [{
                xtype: 'threeGrids'
            }, {
                xtype: 'threeGrids'
            }, {
                xtype: 'threeGrids'
            }, {
                xtype: 'threeGrids'
            }],
            dockedItems: [{
                xtype: 'button',
                text: 'Reload All',
                docked: 'top',
                handler: function() {
                    let panel = this.up('panel');
                    for (let iter = 0; iter < 1; iter++) {
                        for (let i = 0; i < panel.items.length; i++) {
                            for (let j = 0; j < panel.items.items[i].items.length; j++){
                                this.up('panel').items.items[i].items.items[j].store.load();
                            }
                        }
                    }
                }
            }],

            renderTo: Ext.getBody()
        });
    }
});

</script>
</body>
</html>